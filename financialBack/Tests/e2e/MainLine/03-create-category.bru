meta {
  name: Create Category
  type: http
  seq: 3
}

post {
  url: http://localhost:{{port}}/Category
  body: json
  auth: none
}

body:json {
  {
    "description": "Test Category E2E",
    "finality": "expense"
  }
}

assert {
  res.status: eq 201
  res.body.data.id: isDefined
}

script:post-response {
  if (res.status !== 201) {
    console.error("❌ [CREATE CATEGORY] Failed with status:", res.status);
    console.error("Response body:", JSON.stringify(res.body, null, 2));
  } else {
    console.log("✅ [CREATE CATEGORY] Success!");
    console.log("Category ID:", res.body.data.id);
    bru.setVar("categoryId", res.body.data.id);
  }
}
